// =============================================================================
// tcxBox2dCircle.h - Box2D 円形ボディ
// =============================================================================

#pragma once

#include "tcxBox2dBody.h"

namespace tcx::box2d {

// =============================================================================
// 円形ボディ
// =============================================================================
class Circle : public Body {
public:
    Circle() = default;
    ~Circle() override = default;

    // ムーブ
    Circle(Circle&& other) noexcept;
    Circle& operator=(Circle&& other) noexcept;

    // ---------------------------------------------------------------------
    // 作成
    // ---------------------------------------------------------------------

    // ワールドに円を作成
    // x, y: 中心座標（ピクセル）
    // radius: 半径（ピクセル）
    void setup(World& world, float x, float y, float radius);

    // ---------------------------------------------------------------------
    // プロパティ
    // ---------------------------------------------------------------------
    float getRadius() const { return radius_; }

    // ---------------------------------------------------------------------
    // 描画（Node::draw() をオーバーライド）
    // 原点(0,0)に描画。drawTree()が自動的に位置・回転を適用する
    // ---------------------------------------------------------------------
    void draw() override;

    // 塗りつぶしで描画
    void drawFill();

    // 色を設定して描画
    void draw(const tc::Color& color);

private:
    float radius_ = 0;
};

} // namespace tcx::box2d
